<% content_for(:title, '家族のプロフィール編集') %>
<div class="container-fluid">
  <div class="center-block bg-light">
    <div class="text-center">
      <h1 class="py-2 border-bottom">家族のプロフィール編集</h1>
    </div>
    <% if @family.errors.any? %>
    <div class="alert alert-danger">
      <% @family.errors.full_messages.each do |message| %>
        <%= message %>
      <% end %>
    </div>
    <% end %>
    <%= form_with model: @family, url: family_profile_path, local: true do |f| %>
      <div class="form-group px-2">
        <%= f.label :family_name, '名字' %>
        <%= f.text_field :family_name, class: 'form-control' %>
      </div>
      <div class="form-group px-2">
        <%= f.label :family_nickname, 'ニックネーム' %>
        <%= f.text_field :family_nickname, class: 'form-control' %>
      </div>
      <!--<div class="form-group">
        <%= f.label :family_avatar, 'イメージ' %>
        <%= f.file_field :family_avatar, class: 'form-control' %>
        <%= f.hidden_field :family_avatar_cache %>
      </div>
      <% if @family.family_avatar.present? %>
      <div class="mb-3 mt-3">
        <%= image_tag '/assets/images/default.jpeg', class: 'rounded-circle', id: 'preview', size: '100x100' %>
      </div>
      <% end %>-->
      <div class="form-group px-2">
        <%= f.label :budget, 'お小遣い予算' %>
        <%= f.number_field :budget, class: 'form-control' %>
      </div>
      <div class="text-center">
        <%= f.submit (@family.users.size == 1 ? '変更する' : '変更承認申請をする'), class: 'btn btn-primary my-2' %>
      </div>
    <% end %>
  </div>
</div>